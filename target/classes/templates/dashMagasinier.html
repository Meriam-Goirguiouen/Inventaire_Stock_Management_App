
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Magasinier</title>
    <link rel="stylesheet" th:href="@{/css/dashM.css}" />
   
</head>
<body>

<div class="container">
    <div class="sidebar">
        <img th:src="@{/img/logo.png}" alt="Logo" class="logo-img" />
        <ul>
            <li><a th:href="@{/magasinier}">Dashboard</a></li>
            <li><a th:href="@{/magasinier/articles}">Gestion des articles</a></li>
            <li><a th:href="@{/magasinier/alertes}">Alertes</a></li>
            <li><a th:href="@{/magasinier/commandes}">Passer commande</a></li>
            <li><a th:href="@{/logout}">Déconnexion</a></li>
        </ul>
    </div>

    <div class="main">
        <h2>Bonjour <span th:text="${magasinierName}">Magasinier</span>,</h2>
        <p th:text="${message}">Bienvenue sur votre tableau de bord.</p>

        <div class="card">
            <h3>Statistiques</h3>
            <div class="stats">
                <div class="stat-box">
                    <h2 th:text="${stockLowCount ?: 0}">0</h2>
                    <p>Articles en stock faible</p>
                </div>
                <div class="stat-box">
                    <h2 th:text="${pendingOrdersCount ?: 0}">0</h2>
                    <p>Commandes en attente</p>
                </div>
            </div>
        </div>

      
        <!-- Bouton de test notification -->
        <button onclick="showNotification('Nouvelle alerte : Article en rupture !')">Afficher une notification</button>
    </div>
</div>

<!-- Pop-up de notification -->
<div id="notificationPopup" class="notification-popup"></div>

<script>
    function showNotification(message) {
        const popup = document.getElementById('notificationPopup');
        popup.textContent = message;
        popup.classList.add('show');

        setTimeout(() => {
            popup.classList.remove('show');
        }, 4000); // 4 secondes
    }

    // Exemple auto-affichage à l'ouverture (tu peux supprimer si inutile)
    // window.onload = () => {
    //     showNotification("Bienvenue sur le dashboard magasinier !");
    // }
</script>

</body>
</html>
